"use strict";var listItem,checkBtn,editBtn,deleteBtn,textToEdit,newCategoryOption,itemIdNumber=0,addItemBtn=document.querySelector(".add-item-btn"),textInput=document.querySelector(".text-input"),listBox=document.querySelector(".list-box"),listItemTemp=document.querySelector(".list-button-temp"),alertInfo=document.querySelector(".alert-info"),editPopup=document.querySelector(".edit-task-popup"),textEditInput=document.querySelector(".edit-input"),editErrMsg=document.querySelector(".edit-error-msg"),editBtnAccept=document.querySelector(".edit-button-accept"),editBtnCancel=document.querySelector(".edit-button-cancel"),addNewCategoryBtn=document.querySelector(".add-new-category-btn"),categorySelect=document.querySelector(".category-select"),categoryPopup=document.querySelector(".add-category-popup"),categoryErrMsg=document.querySelector(".category-error-msg"),categoryBtnAccept=document.querySelector(".category-button-accept"),categoryBtnCancel=document.querySelector(".category-button-cancel"),categoryInput=document.querySelector(".category-input"),addItem=function(){var e,t,n=listItemTemp.content.cloneNode(!0);""!==textInput.value?(itemIdNumber++,alertInfo.innerText="",e=n.querySelector(".text-content"),(t=n.querySelector(".list-item")).setAttribute("id","item-".concat(itemIdNumber)),e.innerText=textInput.value,listBox.appendChild(n),textInput.value="",e=t.querySelector(".button-check"),n=t.querySelector(".button-edit"),t=t.querySelector(".button-delete"),e.addEventListener("click",checkItem),n.addEventListener("click",editItem),t.addEventListener("click",deleteItem),t.addEventListener("click",checkIfAnyItemLeft)):alertInfo.innerText="Write something to do!"},enterKeyAddItem=function(){13===event.keyCode&&addItem()},checkItem=function(e){var e=e.target.closest(".button-check"),t=e.nextElementSibling,e=e.closest(".list-item");!1===t.disabled?(t.disabled=!0,e.classList.add("completed")):(t.disabled=!1,e.classList.remove("completed")),editPopup.style.display="none"},editItem=function(e){editBtn=e.target.closest(".button-edit"),listItem=editBtn.closest(".list-item"),textToEdit=listItem.querySelector(".text-content"),editPopup.style.display="flex",textEditInput.value=textToEdit.innerText},deleteItem=function(e){e.target.closest(".button-delete").closest(".list-item").remove(),editPopup.style.display="none",textEditInput.value=""},acceptEditedText=function(){textToEdit.innerText=textEditInput.value,editPopup.style.display="none",textToEdit.textContent=textEditInput.value,editErrMsg.textContent="",textEditInput.style.border="none"},checkIfEditInputIsChange=function(){textToEdit.innerText===textEditInput.value?(textEditInput.style.border="2px solid red",editErrMsg.textContent="Please, change something!"):acceptEditedText()},cancelEditedText=function(){editPopup.style.display="none",textEditInput.value="",editErrMsg.textContent="",textEditInput.style.border="none"},showMeCategoryPopup=function(){categoryPopup.style.display="flex"},acceptNewCategory=function(){(newCategoryOption=document.createElement("option")).value=categoryInput.value,newCategoryOption.innerText=categoryInput.value,newCategoryOption.classList.add("category-option"),categorySelect.append(newCategoryOption),categoryPopup.style.display="none",categoryInput.value="",categoryErrMsg.innerText=""},checkIfCategoryInputIsEmpty=function(){""===categoryInput.value?categoryErrMsg.innerText="Please, write something!":acceptNewCategory()},cancelNewCategory=function(){categoryPopup.style.display="none",categoryInput.value="",categoryErrMsg.innerText=""},checkIfAnyItemLeft=function(){listBox.querySelector(".list-item")?alertInfo.innerText="":alertInfo.innerText="For now there is nothing to do."};addItemBtn.addEventListener("click",addItem),textInput.addEventListener("keyup",enterKeyAddItem),editBtnAccept.addEventListener("click",checkIfEditInputIsChange),editBtnCancel.addEventListener("click",cancelEditedText),addNewCategoryBtn.addEventListener("click",showMeCategoryPopup),categoryBtnAccept.addEventListener("click",checkIfCategoryInputIsEmpty),categoryBtnCancel.addEventListener("click",cancelNewCategory);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvZG8uanMiXSwibmFtZXMiOlsiY2F0ZWdvcnlCdG5DYW5jZWwiLCJjYXRlZ29yeUlucHV0IiwibGlzdEl0ZW0iLCJjaGVja0J0biIsImVkaXRCdG4iLCJkZWxldGVCdG4iLCJpdGVtSWROdW1iZXIiLCJhZGRJdGVtQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dElucHV0IiwibGlzdEJveCIsImxpc3RJdGVtVGVtcCIsImFsZXJ0SW5mbyIsImVkaXRQb3B1cCIsInRleHRFZGl0SW5wdXQiLCJlZGl0RXJyTXNnIiwiZWRpdEJ0bkFjY2VwdCIsImVkaXRCdG5DYW5jZWwiLCJhZGROZXdDYXRlZ29yeUJ0biIsImNhdGVnb3J5U2VsZWN0IiwiY2F0ZWdvcnlQb3B1cCIsImNhdGVnb3J5RXJyTXNnIiwiY2F0ZWdvcnlCdG5BY2NlcHQiLCJuZXdDYXRlZ29yeU9wdGlvbiIsImJ0bkVkaXRJdGVtIiwiY29udGVudCIsImNsb25lTm9kZSIsInZhbHVlIiwiaW5uZXJUZXh0IiwidGV4dENvbnRlbnQiLCJpdGVtIiwic2V0QXR0cmlidXRlIiwiYnRuQ2hlY2tJdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoZWNrSXRlbSIsImVkaXRJdGVtIiwiYnRuRGVsZXRlSXRlbSIsImRlbGV0ZUl0ZW0iLCJjaGVja0lmQW55SXRlbUxlZnQiLCJlbnRlcktleUFkZEl0ZW0iLCJldmVudCIsImtleUNvZGUiLCJhZGRJdGVtIiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJkaXNhYmxlZCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInN0eWxlIiwiZGlzcGxheSIsInRleHRUb0VkaXQiLCJhY2NlcHRFZGl0ZWRUZXh0IiwiYm9yZGVyIiwiY2hlY2tJZkVkaXRJbnB1dElzQ2hhbmdlIiwiY2FuY2VsRWRpdGVkVGV4dCIsInNob3dNZUNhdGVnb3J5UG9wdXAiLCJhY2NlcHROZXdDYXRlZ29yeSIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJjaGVja0lmQ2F0ZWdvcnlJbnB1dElzRW1wdHkiLCJjYW5jZWxOZXdDYXRlZ29yeSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFnQk1BLFNBQ0FDLFNBQ0ZDLFFBQ0FDLFVBQ0FDLFdBQ0FDLGtCQXJCQUMsYUFBZSxFQUNiQyxXQUFhQyxTQUFTQyxjQUFjLGlCQUR0Q0gsVUFBWUUsU0FBaEJDLGNBQUEsZUFDTUYsUUFBVUMsU0FBV0MsY0FBUixhQUNiQyxhQUFZRixTQUFTQyxjQUFjLHFCQUNuQ0UsVUFBVUgsU0FBU0MsY0FBYyxlQUNqQ0csVUFBWUosU0FBV0MsY0FBUixvQkFDZkksY0FBWUwsU0FBU0MsY0FBYyxlQUNuQ0ssV0FBWU4sU0FBU0MsY0FBYyxtQkFDbkNNLGNBQWdCUCxTQUFTQyxjQUFjLHVCQUN2Q08sY0FBYVIsU0FBU0MsY0FBYyx1QkFDcENRLGtCQUFnQlQsU0FBU0MsY0FBYyx5QkFDdkNTLGVBQWdCVixTQUFTQyxjQUFjLG9CQUN2Q1UsY0FBaUJYLFNBQUdBLGNBQVNDLHVCQUM3QlcsZUFBaUJaLFNBQVNDLGNBQWMsdUJBQ3hDWSxrQkFBZ0JiLFNBQVNDLGNBQWMsMkJBQ3ZDYSxrQkFBaUJkLFNBQVNDLGNBQWMsMkJBQ3hDYyxjQUFpQmYsU0FBR0EsY0FBU0MsbUJBUS9CZSxRQUFBQSxXQUdBLElBVUlkLEVBR0llLEVBYkZ2QixFQUFXVSxhQUFhYyxRQUFRQyxXQUFVLEdBQS9CZixLQUFYVixVQUFXVSxPQUdiTixlQURBSSxVQUFVa0IsVUFBYyxHQUN4QnRCLEVBQVlKLEVBQUFPLGNBQUEsa0JBQ1pJLEVBQVVnQixFQUFWcEIsY0FBQSxlQUNJcUIsYUFBYzVCLEtBQWQ0QixRQUFBQSxPQUF1QnJCLGVBQ3ZCc0IsRUFBTzdCLFVBQVNPLFVBQWNtQixNQUM5QmpCLFFBQUNxQixZQUFMOUIsR0FDQTRCLFVBQVlELE1BQVosR0FFQW5CLEVBQUFxQixFQUFBdEIsY0FBQSxpQkFFSXdCLEVBQWVGLEVBQUt0QixjQUFjLGdCQUNsQ2dCLEVBQW1CaEIsRUFBQUEsY0FBYyxrQkFHckN3QixFQUFhQyxpQkFBaUIsUUFBU0MsV0FDdkNWLEVBQVlTLGlCQUFpQixRQUFTRSxVQUN0Q0MsRUFBY0gsaUJBQWlCLFFBQVNJLFlBQ3hDRCxFQUFjSCxpQkFBaUIsUUFBU0sscUJBRXhDMUIsVUFBVWdCLFVBQVksMEJBSXhCVyxnQkFBa0IsV0FDcEIsS0FBSUMsTUFBTUMsU0FDTkMsV0FJRlIsVUFBWSxTQUFBUyxHQUNkLElBQUl6QyxFQUFhMEMsRUFBQUEsT0FBT0MsUUFBUSxpQkFDNUIxQyxFQUFVRCxFQUFTNEMsbUJBQ25CN0MsRUFBV0MsRUFBUzJDLFFBQVEsZUFFUixJQUFyQjFDLEVBQVE0QyxVQUNQNUMsRUFBUTRDLFVBQVIsRUFDQTlDLEVBQVMrQyxVQUFjQyxJQUFBLGVBRXZCOUMsRUFBUTRDLFVBQVcsRUFDbkI5QyxFQUFTK0MsVUFBVUUsT0FBTyxjQUc5QnJDLFVBQVVzQyxNQUFNQyxRQUFVLFFBR3hCakIsU0FBVyxTQUFBUSxHQUNieEMsUUFBWXlDLEVBQUFBLE9BQU9DLFFBQVEsZ0JBQzNCNUMsU0FBV0UsUUFBUTBDLFFBQVEsY0FDM0JRLFdBQWFwRCxTQUFTTyxjQUFjLGlCQUNwQ0ssVUFBVXNDLE1BQU1DLFFBQVUsT0FDMUJ0QyxjQUFjYSxNQUFRMEIsV0FBV3pCLFdBRy9CUyxXQUFhLFNBQUFNLEdBQ0dDLEVBQUFBLE9BQU9DLFFBQVEsa0JBQ3ZCQSxRQUFRLGNBQWNLLFNBQ2hDckMsVUFBVXNDLE1BQU1DLFFBQVUsT0FDMUJ0QyxjQUFjYSxNQUFkLElBR0UyQixpQkFBbUIsV0FDckJELFdBQVd6QixVQUFZZCxjQUFjYSxNQUNyQ2QsVUFBVXNDLE1BQU1DLFFBQVUsT0FDMUJDLFdBQVd4QixZQUFjZixjQUFjYSxNQUN2Q1osV0FBV2MsWUFBWCxHQUNBZixjQUFjcUMsTUFBTUksT0FBUyxRQUczQkMseUJBQTJCLFdBQ3pCSCxXQUFXekIsWUFBY2QsY0FBY2EsT0FDdkNiLGNBQWNxQyxNQUFNSSxPQUFTLGdCQUM3QnhDLFdBQVdjLFlBQWMsNkJBRXpCeUIsb0JBSUZHLGlCQUFtQixXQUNyQjVDLFVBQVVzQyxNQUFNQyxRQUFVLE9BQzFCdEMsY0FBY2EsTUFBZCxHQUNBWixXQUFXYyxZQUFYLEdBQ0FmLGNBQWNxQyxNQUFNSSxPQUFTLFFBRzNCRyxvQkFBc0IsV0FDeEJ0QyxjQUFjK0IsTUFBTUMsUUFBVSxRQUc1Qk8sa0JBQW9CLFlBQ3RCcEMsa0JBQW9CaEIsU0FBU3FELGNBQWMsV0FDekJqQyxNQUFRM0IsY0FBYzJCLE1BQ3hDSixrQkFBa0JLLFVBQVk1QixjQUFjMkIsTUFDNUNKLGtCQUFrQnlCLFVBQVVDLElBQUksbUJBQ2hDOUIsZUFBZTBDLE9BQU90QyxtQkFHdEJ2QixjQUFjMkIsTUFBUXlCLFFBQXRCLE9BQ0EvQixjQUFlTyxNQUFmLEdBVEpQLGVBQUFPLFVBQUEsSUFhTzVCLDRCQUE0QixXQUNBLEtBQTNCcUIsY0FBZU8sTUFEbkJQLGVBRU9PLFVBQUEsMkJBRU4rQixxQkFJRHZDLGtCQUFvQmdDLFdBQ3BCcEQsY0FBYzJCLE1BQVF5QixRQUF0QixPQUNBL0IsY0FBZU8sTUFBZixHQUhKUCxlQUFBTyxVQUFBLElBT09sQixtQkFBQSxXQUNDRSxRQUFVZ0IsY0FBVixjQURKaEIsVUFFT2dCLFVBQUEsR0FFTmhCLFVBQUFnQixVQUFBLG1DQU1MWixXQUFBQSxpQkFBY2lCLFFBQWlCUyxTQUMvQnpCLFVBQUFBLGlCQUFjZ0IsUUFBaUJNLGlCQUUvQnJCLGNBQUFBLGlCQUFrQmUsUUFBaUJ1QiwwQkFDbkNsQyxjQUFBQSxpQkFBa0JXLFFBQWlCd0Isa0JBRG5DdkMsa0JBQWtCZSxpQkFBaUIsUUFBU3lCLHFCQUM1Q3BDLGtCQUFrQlcsaUJBQWlCLFFBQVM2Qiw2QkFDNUMvRCxrQkFBa0JrQyxpQkFBaUIsUUFBUzhCIiwiZmlsZSI6InRvZG8ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGl0ZW1JZE51bWJlciA9IDBcclxuY29uc3QgYWRkSXRlbUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtaXRlbS1idG4nKVxyXG5jb25zdCB0ZXh0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGV4dC1pbnB1dCcpXHJcbmNvbnN0IGxpc3RCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGlzdC1ib3gnKVxyXG5jb25zdCBsaXN0SXRlbVRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGlzdC1idXR0b24tdGVtcCcpXHJcbmNvbnN0IGFsZXJ0SW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC1pbmZvJylcclxuY29uc3QgZWRpdFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQtdGFzay1wb3B1cCcpXHJcbmNvbnN0IHRleHRFZGl0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdC1pbnB1dCcpXHJcbmNvbnN0IGVkaXRFcnJNc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdC1lcnJvci1tc2cnKVxyXG5jb25zdCBlZGl0QnRuQWNjZXB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQtYnV0dG9uLWFjY2VwdCcpXHJcbmNvbnN0IGVkaXRCdG5DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdC1idXR0b24tY2FuY2VsJylcclxuY29uc3QgYWRkTmV3Q2F0ZWdvcnlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLW5ldy1jYXRlZ29yeS1idG4nKVxyXG5jb25zdCBjYXRlZ29yeVNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yeS1zZWxlY3QnKVxyXG5jb25zdCBjYXRlZ29yeVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1jYXRlZ29yeS1wb3B1cCcpXHJcbmNvbnN0IGNhdGVnb3J5RXJyTXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGVnb3J5LWVycm9yLW1zZycpXHJcbmNvbnN0IGNhdGVnb3J5QnRuQWNjZXB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGVnb3J5LWJ1dHRvbi1hY2NlcHQnKVxyXG5jb25zdCBjYXRlZ29yeUJ0bkNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yeS1idXR0b24tY2FuY2VsJylcclxuY29uc3QgY2F0ZWdvcnlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yeS1pbnB1dCcpXHJcbmxldCBsaXN0SXRlbVxyXG5sZXQgY2hlY2tCdG5cclxubGV0IGVkaXRCdG5cclxubGV0IGRlbGV0ZUJ0blxyXG5sZXQgdGV4dFRvRWRpdFxyXG5sZXQgbmV3Q2F0ZWdvcnlPcHRpb25cclxuXHJcbmNvbnN0IGFkZEl0ZW0gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBsaXN0SXRlbSA9IGxpc3RJdGVtVGVtcC5jb250ZW50LmNsb25lTm9kZSh0cnVlKVxyXG5cclxuICAgIGlmICh0ZXh0SW5wdXQudmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgaXRlbUlkTnVtYmVyKytcclxuICAgICAgICBhbGVydEluZm8uaW5uZXJUZXh0ID0gJydcclxuICAgICAgICBsZXQgdGV4dENvbnRlbnQgPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCcudGV4dC1jb250ZW50JylcclxuICAgICAgICBsZXQgaXRlbSA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5saXN0LWl0ZW0nKVxyXG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdpZCcsIGBpdGVtLSR7aXRlbUlkTnVtYmVyfWApXHJcbiAgICAgICAgdGV4dENvbnRlbnQuaW5uZXJUZXh0ID0gdGV4dElucHV0LnZhbHVlXHJcbiAgICAgICAgbGlzdEJveC5hcHBlbmRDaGlsZChsaXN0SXRlbSlcclxuICAgICAgICB0ZXh0SW5wdXQudmFsdWUgPSAnJ1xyXG5cclxuICAgICAgICBsZXQgYnRuQ2hlY2tJdGVtID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLWNoZWNrJylcclxuICAgICAgICBsZXQgYnRuRWRpdEl0ZW0gPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tZWRpdCcpXHJcbiAgICAgICAgbGV0IGJ0bkRlbGV0ZUl0ZW0gPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tZGVsZXRlJylcclxuXHJcbiAgICAgICAgYnRuQ2hlY2tJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tJdGVtKVxyXG4gICAgICAgIGJ0bkVkaXRJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZWRpdEl0ZW0pXHJcbiAgICAgICAgYnRuRGVsZXRlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZUl0ZW0pXHJcbiAgICAgICAgYnRuRGVsZXRlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrSWZBbnlJdGVtTGVmdClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxlcnRJbmZvLmlubmVyVGV4dCA9ICdXcml0ZSBzb21ldGhpbmcgdG8gZG8hJ1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBlbnRlcktleUFkZEl0ZW0gPSAoKSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICBhZGRJdGVtKClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgY2hlY2tJdGVtID0gKGUpID0+IHtcclxuICAgIGxldCBjaGVja0J0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5idXR0b24tY2hlY2snKVxyXG4gICAgbGV0IGVkaXRCdG4gPSBjaGVja0J0bi5uZXh0RWxlbWVudFNpYmxpbmdcclxuICAgIGxldCBsaXN0SXRlbSA9IGNoZWNrQnRuLmNsb3Nlc3QoJy5saXN0LWl0ZW0nKVxyXG5cclxuICAgIGlmKGVkaXRCdG4uZGlzYWJsZWQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgZWRpdEJ0bi5kaXNhYmxlZCA9IHRydWVcclxuICAgICAgICBsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZWQnKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBlZGl0QnRuLmRpc2FibGVkID0gZmFsc2VcclxuICAgICAgICBsaXN0SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdjb21wbGV0ZWQnKVxyXG4gICAgfVxyXG5cclxuICAgIGVkaXRQb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRJdGVtID0gKGUpID0+IHtcclxuICAgIGVkaXRCdG4gPSBlLnRhcmdldC5jbG9zZXN0KCcuYnV0dG9uLWVkaXQnKVxyXG4gICAgbGlzdEl0ZW0gPSBlZGl0QnRuLmNsb3Nlc3QoJy5saXN0LWl0ZW0nKVxyXG4gICAgdGV4dFRvRWRpdCA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LWNvbnRlbnQnKVxyXG4gICAgZWRpdFBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuICAgIHRleHRFZGl0SW5wdXQudmFsdWUgPSB0ZXh0VG9FZGl0LmlubmVyVGV4dFxyXG59XHJcblxyXG5jb25zdCBkZWxldGVJdGVtID0gKGUpID0+IHtcclxuICAgIGxldCBkZWxldGVCdG4gPSBlLnRhcmdldC5jbG9zZXN0KCcuYnV0dG9uLWRlbGV0ZScpXHJcbiAgICBkZWxldGVCdG4uY2xvc2VzdCgnLmxpc3QtaXRlbScpLnJlbW92ZSgpXHJcbiAgICBlZGl0UG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgdGV4dEVkaXRJbnB1dC52YWx1ZSA9ICcnXHJcbn1cclxuXHJcbmNvbnN0IGFjY2VwdEVkaXRlZFRleHQgPSAoKSA9PiB7XHJcbiAgICB0ZXh0VG9FZGl0LmlubmVyVGV4dCA9IHRleHRFZGl0SW5wdXQudmFsdWVcclxuICAgIGVkaXRQb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICB0ZXh0VG9FZGl0LnRleHRDb250ZW50ID0gdGV4dEVkaXRJbnB1dC52YWx1ZVxyXG4gICAgZWRpdEVyck1zZy50ZXh0Q29udGVudCA9ICcnXHJcbiAgICB0ZXh0RWRpdElucHV0LnN0eWxlLmJvcmRlciA9ICdub25lJ1xyXG59XHJcblxyXG5jb25zdCBjaGVja0lmRWRpdElucHV0SXNDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICBpZiAodGV4dFRvRWRpdC5pbm5lclRleHQgPT09IHRleHRFZGl0SW5wdXQudmFsdWUpIHtcclxuICAgICAgICB0ZXh0RWRpdElucHV0LnN0eWxlLmJvcmRlciA9ICcycHggc29saWQgcmVkJ1xyXG4gICAgICAgIGVkaXRFcnJNc2cudGV4dENvbnRlbnQgPSAnUGxlYXNlLCBjaGFuZ2Ugc29tZXRoaW5nISdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWNjZXB0RWRpdGVkVGV4dCgpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGNhbmNlbEVkaXRlZFRleHQgPSAoKSA9PiB7XHJcbiAgICBlZGl0UG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgdGV4dEVkaXRJbnB1dC52YWx1ZSA9ICcnXHJcbiAgICBlZGl0RXJyTXNnLnRleHRDb250ZW50ID0gJydcclxuICAgIHRleHRFZGl0SW5wdXQuc3R5bGUuYm9yZGVyID0gJ25vbmUnXHJcbn1cclxuXHJcbmNvbnN0IHNob3dNZUNhdGVnb3J5UG9wdXAgPSAoKSA9PiB7XHJcbiAgICBjYXRlZ29yeVBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxufVxyXG5cclxuY29uc3QgYWNjZXB0TmV3Q2F0ZWdvcnkgPSAoKSA9PiB7XHJcbiAgICBuZXdDYXRlZ29yeU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXHJcbiAgICBuZXdDYXRlZ29yeU9wdGlvbi52YWx1ZSA9IGNhdGVnb3J5SW5wdXQudmFsdWVcclxuICAgIG5ld0NhdGVnb3J5T3B0aW9uLmlubmVyVGV4dCA9IGNhdGVnb3J5SW5wdXQudmFsdWVcclxuICAgIG5ld0NhdGVnb3J5T3B0aW9uLmNsYXNzTGlzdC5hZGQoJ2NhdGVnb3J5LW9wdGlvbicpXHJcbiAgICBjYXRlZ29yeVNlbGVjdC5hcHBlbmQobmV3Q2F0ZWdvcnlPcHRpb24pXHJcbiAgICBcclxuICAgIGNhdGVnb3J5UG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgY2F0ZWdvcnlJbnB1dC52YWx1ZSA9ICcnXHJcbiAgICBjYXRlZ29yeUVyck1zZy5pbm5lclRleHQgPSAnJ1xyXG59XHJcblxyXG5jb25zdCBjaGVja0lmQ2F0ZWdvcnlJbnB1dElzRW1wdHkgPSAoKSA9PiB7XHJcbiAgICBpZihjYXRlZ29yeUlucHV0LnZhbHVlID09PSAnJykge1xyXG4gICAgICAgIGNhdGVnb3J5RXJyTXNnLmlubmVyVGV4dCA9ICdQbGVhc2UsIHdyaXRlIHNvbWV0aGluZyEnXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFjY2VwdE5ld0NhdGVnb3J5KClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgY2FuY2VsTmV3Q2F0ZWdvcnkgPSAoKSA9PiB7XHJcbiAgICBjYXRlZ29yeVBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIGNhdGVnb3J5SW5wdXQudmFsdWUgPSAnJ1xyXG4gICAgY2F0ZWdvcnlFcnJNc2cuaW5uZXJUZXh0ID0gJydcclxufVxyXG5cclxuY29uc3QgY2hlY2tJZkFueUl0ZW1MZWZ0ID0gKCkgPT4ge1xyXG4gICAgaWYobGlzdEJveC5xdWVyeVNlbGVjdG9yKCcubGlzdC1pdGVtJykpIHtcclxuICAgICAgICBhbGVydEluZm8uaW5uZXJUZXh0ID0gJydcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxlcnRJbmZvLmlubmVyVGV4dCA9ICdGb3Igbm93IHRoZXJlIGlzIG5vdGhpbmcgdG8gZG8uJ1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuYWRkSXRlbUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZEl0ZW0pXHJcbnRleHRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGVudGVyS2V5QWRkSXRlbSlcclxuZWRpdEJ0bkFjY2VwdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsY2hlY2tJZkVkaXRJbnB1dElzQ2hhbmdlKVxyXG5lZGl0QnRuQ2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxjYW5jZWxFZGl0ZWRUZXh0KVxyXG5cclxuYWRkTmV3Q2F0ZWdvcnlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93TWVDYXRlZ29yeVBvcHVwKVxyXG5jYXRlZ29yeUJ0bkFjY2VwdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrSWZDYXRlZ29yeUlucHV0SXNFbXB0eSlcclxuY2F0ZWdvcnlCdG5DYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYW5jZWxOZXdDYXRlZ29yeSkiXX0=
